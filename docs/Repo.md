# Repository Structure

This repository includes the following directories and files:

- a temporary autogenerated `./build/` directory
- all associated documentation (`./docs/`)
- RTL files for the processor and peripherals (`./rtl/`)
- Utility scripts (`./scripts/`)
- startup assembly, linker script, and make files for the gcc compiler (`./sw/common/`)
- peripheral library header and source files (`./sw/lib/`)
- RTL testbenches (`./testbench/`)

```
.
├── build/
│   ├── docs/
│   ├── implement/
│   └── sim/
|
├── docs/
│   ├── figures/
│   ├── Lexington.md
│   ├── pdf.json
│   └── template.latex
├── rtl/
├── scripts/
│   ├── build.tcl
│   ├── docs.py
│   └── utils.sh
├── sw/
│   ├── common/
│   │   ├── lexington.ld
│   │   ├── lexington.mk
│   │   └── startup_lexington.S
│   ├── lib/
│   │   ├── inc/
│   │   └── src/
│   └── projects/
│       ├── blink/
│       └── core_test/
├── testbench/
├── fpga.sh
├── netlist.sh
├── sim.sh
└── README.md
```
**Figure 1.** Directory tree of important folders and files

## Build Directory

The build directory is automatically generated when running simulation or FPGA
implementation. Any testbench output files will be placed here. For example,
running the command `./sim.sh core/alu` will place output files in `./build/sim/core/alu/`.

## Documentation

Contains usage and architectural documentation in markdown format as well as figures
and several other files for PDF documentation generation.

## RTL

Includes all SystemVerilog files for the architecture and SoC implementation.
Module names should exactly match the name of the source file they are in. This
allows simulation and implementation scripts to easily locate files and modules.
The scripts use a hierarchical naming scheme based on the directory structure.
For example. The `alu` module located in `./rtl/core/alu.sv` can be referenced
as `core/alu`. The module can be simulated and tested by running
`./sim.sh core/alu` from the root directory of the project.

## Scripts

Contains auxiliary scripts for testing, development, and documentation building.
This directory is were XDC files for target boards are located.
See the [Getting Started](./GettingStarted.md) guide for more information and
usage instructions.

## Software (SW)

This directory contains all software related functionality of the design. The
`./sw/common` folder holds the startup assembly, linker script, and generic
Makefile used by all software projects. The `./sw/lib` folder contains the header
and source file (`./sw/lib/inc` and `./sw/lib/src` respectively) for the core
and peripheral software drivers. The `./sw/projects` folder is the home of all
software projects targeted for the board. Several projects, such as `blink`, are
included as examples. The `core_test` project is used for testing and verification
of architectural functionality.

## Testbench

The `./testbench` directory included all testbench RTL files and mirrors the
structure of the `./rtl` directory. Simulation scripts are able to automatically
locate testbench files by following the naming scheme of appending `_TB` to both
the RTL module and filename of all testbenches. For example, the testbench for
the `core/alu` module is named `alu_TB` and located in `./testbench/core/alu_TB.sv`.
Running the command `./sim.sh core/alu` will automatically locate the test module
and testbench for simulation. See the [Getting Started](./GettingStarted.md) guide
for more information on running simulations.

## Top Level Scripts

The top level scripts `fpga.sh`, `netlist.sh`, and `sim.sh` are used for FPGA
implementation, ASCI netlist generation, and testbench simulation respectively.
Use of the `fpga.sh` and `sim.sh` scripts is covered in the
[Getting Started](./GettingStarted.md) guide. Usage of the `netlist.sh` is
intended for ASIC design flow and is outside the scope of this documentation.
